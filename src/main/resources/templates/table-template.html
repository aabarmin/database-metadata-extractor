<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>Table</title>
</head>
<body>
  <h1 th:text="'Table ' + ${metadata.tableName}" />

  <h2>Columns</h2>

  <table border="1">
    <tr>
      <th>Column ID</th>
      <th>Schema name</th>
      <th>Table Name</th>
      <th>Data Type</th>
      <th>Data Length</th>
      <th>Data Precision</th>
      <th>Data Scale</th>
      <th>Nullable</th>
      <th>Default Definition</th>
      <th>Comments</th>
    </tr>

    <tr th:each="column : ${metadata.columns}">
      <td th:text="${column.columnId}" />
      <td th:text="${column.schemaName}" />
      <td th:text="${column.tableName}" />
      <td th:text="${column.dataType}" />
      <td th:text="${column.dataLength}" />
      <td th:text="${column.dataPrecision}" />
      <td th:text="${column.dataScale}" />
      <td th:text="${column.nullable}" />
      <td th:text="${column.defaultDefinition}" />
      <td th:text="${column.comments}" />
    </tr>
  </table>

  <h2>Primary Keys</h2>

  <table border="1">
    <tr>
      <th>Primary Key</th>
      <th>Schema Name</th>
      <th>Constraint Name</th>
      <th>Table Name</th>
      <th>Columns</th>
    </tr>

    <tr th:each="key : ${metadata.primaryKeys}">
      <td th:text="${key.primaryKey}" />
      <td th:text="${key.schemaName}" />
      <td th:text="${key.constraintName}" />
      <td th:text="${key.tableName}" />
      <td th:text="${key.columns}" />
    </tr>
  </table>

  <h2>Foreign Keys</h2>

  <table border="1">
    <tr>
      <th>Foreign Key</th>
      <th>Constraint Type</th>
      <th>Schema Name</th>
      <th>Constraint Name</th>
      <th>Table Name</th>
      <th>Columns</th>
      <th>R Owner</th>
      <th>R Constraint Name</th>
    </tr>

    <tr th:each="key : ${metadata.foreignKeys}">
      <td th:text="${key.foreignKey}" />
      <td th:text="${key.constraintType}" />
      <td th:text="${key.schemaName}" />
      <td th:text="${key.constraintName}" />
      <td th:text="${key.tableName}" />
      <td th:text="${key.columns}" />
      <td th:text="${key.rOwner}" />
      <td th:text="${key.rConstraintName}" />
    </tr>
  </table>

  <h2>Constraints</h2>

  <table border="1">
    <tr>
      <th>Constraint Type</th>
      <th>Schema Name</th>
      <th>Constraint Name</th>
      <th>Table Name</th>
      <th>Columns</th>
      <th>R Owner</th>
      <th>R Constraint Name</th>
    </tr>

    <tr th:each="constraint : ${metadata.constraints}">
      <td th:text="${constraint.constraintType}" />
      <td th:text="${constraint.schemaName}" />
      <td th:text="${constraint.constraintName}" />
      <td th:text="${constraint.tableName}" />
      <td th:text="${constraint.columns}" />
      <td th:text="${constraint.rOwner}" />
      <td th:text="${constraint.rConstraintName}" />
    </tr>
  </table>

  <h2>References</h2>

  <table border="1">
    <tr>
      <th>Child Table</th>
      <th>Child Column</th>
      <th>Constraint Name</th>
      <th>Parent Table</th>
      <th>Parent Columns</th>
    </tr>

    <tr th:each="reference : ${metadata.references}">
      <td th:text="${reference.childTable}" />
      <td th:text="${reference.childColumn}" />
      <td th:text="${reference.constraintName}" />
      <td th:text="${reference.parentTable}" />
      <td th:text="${reference.parentColumn}" />
    </tr>
  </table>

  <h2>Checks</h2>

  <table border="1">
    <tr>
      <th>Schema Name</th>
      <th>Constraint Name</th>
      <th>Table Name</th>
      <th>Column Name</th>
      <th>Constraint</th>
      <th>Status</th>
    </tr>

    <tr th:each="check : ${metadata.checks}">
      <td th:text="${check.schemaName}" />
      <td th:text="${check.constraintName}" />
      <td th:text="${check.tableName}" />
      <td th:text="${check.columnName}" />
      <td th:text="${check.constraint}" />
      <td th:text="${check.status}" />
    </tr>
  </table>

  <h2>Triggers</h2>

  <table border="1">
    <tr>
      <th>Trigger Schema Name</th>
      <th>Trigger Name</th>
      <th>Trigger Type</th>
      <th>Triggering Event</th>
      <th>Schema Name</th>
      <th>Object Name</th>
      <th>Object Type</th>
      <th>Status</th>
      <th>Script</th>
    </tr>

    <tr th:each="trigger : ${metadata.triggers}">
      <td th:text="${trigger.triggerSchemaName}" />
      <td th:text="${trigger.triggerName}" />
      <td th:text="${trigger.triggerType}" />
      <td th:text="${trigger.triggeringEvent}" />
      <td th:text="${trigger.schemaName}" />
      <td th:text="${trigger.objectName}" />
      <td th:text="${trigger.objectType}" />
      <td th:text="${trigger.status}" />
      <td th:text="${trigger.script}" />
    </tr>
  </table>

  <h2>UDFs</h2>

  <table border="1">
    <tr>
      <th>Schema Name</th>
      <th>Function Name</th>
      <th>Return Type</th>
      <th>Arguments</th>
    </tr>

    <tr th:each="udf : ${metadata.udfs}">
      <td th:text="${udf.schemaName}" />
      <td th:text="${udf.functionName}" />
      <td th:text="${udf.returnType}" />
      <td th:text="${udf.arguments}" />
    </tr>
  </table>

  <h2>Views Used</h2>

  <table border="1">
    <tr>
      <th>Table Name</th>
      <th>Type</th>
      <th>Referencing Object</th>
      <th>Referencing Type</th>
    </tr>

    <tr th:each="view : ${metadata.viewsUsed}">
      <td th:text="${view.tableName}" />
      <td th:text="${view.type}" />
      <td th:text="${view.referencingObject}" />
      <td th:text="${view.referencingType}" />
    </tr>
  </table>

  <h2>Views Referenced</h2>

  <table border="1">
    <tr>
      <th>View Schema</th>
      <th>View Name</th>
      <th>Referenced Schema</th>
      <th>Referenced Name</th>
      <th>Referenced Type</th>
    </tr>

    <tr th:each="view : ${metadata.viewsReferenced}">
      <td th:text="${view.viewSchema}" />
      <td th:text="${view.viewName}" />
      <td th:text="${view.referencedSchema}" />
      <td th:text="${view.referencedName}" />
      <td th:text="${view.referencedType}" />
    </tr>
  </table>
</body>
</html>